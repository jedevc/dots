#!/bin/bash

# show help
if [[ -z $1 || $1 == '-h' || $1 == '--help' ]]; then
	echo "$0 usage: filename command"
	exit 1
fi

# parse command line arguments
file=$1
command=${@:2}

# process
while [[ true ]]; do
	inotifywait -q --event modify $file > /dev/null
	eval $command
done
