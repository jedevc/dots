#!/usr/bin/env python3

import shutil
import argparse

def main():
    # parse command line arguments
    parser = argparse.ArgumentParser('screencenter',
            description='center text in the terminal')
    parser.add_argument('-t', '--tab', type=int, default=4,
            help='number of spaces a tab should be converted to')
    args = parser.parse_args()

    # read text
    lines = []
    max_length = 0
    try:
        while True:
            line = input()
            line = line.replace('\t', args.tab * ' ')

            lines.append(line)
            if len(line) > max_length:
                max_length = len(line)
    except EOFError:
        pass

    # calculate offsets
    size = shutil.get_terminal_size()
    xoff = (size.columns - max_length) // 2
    yoff = (size.lines - len(lines)) // 2

    # print centered text
    for i in range(yoff): print()
    for line in lines:
        for i in range(xoff): print(' ', end='')
        print(line)
    for i in range(yoff): print()

if __name__ == "__main__":
    main()
